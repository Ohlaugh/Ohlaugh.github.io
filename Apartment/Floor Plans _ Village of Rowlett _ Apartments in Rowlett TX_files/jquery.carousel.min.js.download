!function(a){a.fn.carousel=function(b){var b=a.extend({},a.fn.carousel.defaultOptions,b);return this.each(function(c){var n,o,p,q,r,d=a(this),e=d.find(" > div.carousel-container"),f=e.find(" > *:first"),g=d.find(" > .carousel-prev"),h=d.find(" > .carousel-next"),i=f.find(" > *:visible").length,j=b.onScrollBegin,k=b.onScrollEnd,l=b.autoSetItemWidth,m=b.enabledMaxWidth,t=(b.step,0),v={setup:function(){n=!(m>0&&a(window).width()>m),n?(i=f.find(" > *:visible").length,setTimeout(function(){p=e.width(),l?v.setItemWidth():"",q=parseFloat(f.find(" > *:eq(1)").outerWidth(!0)),r=0,f.find(" > *:visible").each(function(){r+=a(this).outerWidth(!0)}),(r<=p||1==f.find(" > *:visible").length)&&f.css("margin-left",0),v.toggleBtns("","")},500)):(f.css("margin-left",0),f.find(" > *").css("width",""),i=0,p=0,q=0,r=0,v.toggleBtns("previous",!1),v.toggleBtns("next",!1))},init:function(){v.setup(),v.onResize(function(){v.setup()}),g.on("click",function(a){a.stopPropagation(),a.preventDefault(),v.prev()}),h.on("click",function(a){a.stopPropagation(),a.preventDefault(),v.next()}),v.listener()},prev:function(){f.hasClass("animating")||(f.addClass("animating"),t=Math.min(p,r-p),v.getObjVal(f,"margin-left")+t>0&&(t=0),t>0?(f.animate({"margin-left":v.getObjVal(f,"margin-left")+t},1e3*b.animationSpeed,function(){f.removeClass("animating"),v.toggleBtns("",""),"function"==typeof k?k.call(e):""}),"function"==typeof j?j.call(e):""):f.removeClass("animating"))},next:function(){f.hasClass("animating")||(f.addClass("animating"),t=Math.min(p,r-p),Math.abs(v.getObjVal(f,"margin-left"))+t>=r&&(t=0),t>0?(f.animate({"margin-left":v.getObjVal(f,"margin-left")+t*-1},1e3*b.animationSpeed,function(){f.removeClass("animating"),v.toggleBtns("",""),"function"==typeof k?k.call(e):""}),"function"==typeof j?j.call(e):""):f.removeClass("animating"))},setItemWidth:function(){var c=0,d=0;f.find(" > *").each(function(){a(this).css("width",""),a(this).outerWidth(!0)>d?d=a(this).outerWidth(!0):""}),isNaN(b.itemsInView)||""==b.itemsInView?(o=Math.round(p/d),o<1?o=1:""):(o=b.itemsInView,a(window).width()<=650&&(o=1)),!isNaN(b.minItemsInView)&&""!=b.minItemsInView&&a(window).width()<=650&&(o=b.minItemsInView),c=Math.floor(p/o),f.find(" > *").each(function(){var b=a(this);n?b.css("width",c-(v.getObjVal(b,"margin-left")+v.getObjVal(b,"margin-right"))):b.css("width","")})},listener:function(){var a;n?a=setInterval(function(){f.find(" > *:visible").length!=i&&(f.css("margin-left",0),v.setup())},1e3):clearInterval(a)},onResize:function(b){var c;a(window).on("resize",function(){f.css("margin-left",0),clearTimeout(c),c=setTimeout(function(){b.call()},200)})},toggleBtns:function(a,b){switch(a){case"previous":b?g.css("display",""):g.css("display","none");case"next":b?h.css("display",""):h.css("display","none");default:v.getObjVal(f,"margin-left")<0?g.css("display",""):"",Math.abs(v.getObjVal(f,"margin-left"))+p<r?h.css("display",""):"",v.getObjVal(f,"margin-left")>=0?g.css("display","none"):"",Math.abs(v.getObjVal(f,"margin-left"))+p>=r?h.css("display","none"):""}},getObjVal:function(b,c){var d;if(a(b).length>0)return d=a(b).css(c),d.indexOf("px")&&(d=parseFloat(d.replace("px",""))),d}};v.init()})},a.carousel={},a.fn.carousel.defaultOptions={animationSpeed:1.2,step:"",autoSetItemWidth:!0,itemsInView:"",minItemsInView:"",enabledMaxWidth:0}}(jQuery);
